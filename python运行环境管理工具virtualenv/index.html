<!DOCTYPE html>
<html lang="en">

<!-- layout.ejs-->
<head><meta name="generator" content="Hexo 3.9.0">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="逃出自己的舒适圈">
    <meta name="author" content="小小Z">
    <meta name="keyword" content="angular, 前端, es6, css3, 可视化, javascript">
    <link rel="canonical" href="http://yoursite.com/python运行环境管理工具virtualenv/">
    <link rel="shortcut icon" href="/img/favicon.png">
    <link rel="alternate" type="application/atom+xml" title="Zhl&#39;s blog &lt;a class=&#34;github-button&#34; href=&#34;https://github.com/zhaoleiwhut&#34; aria-label=&#34;Follow @zhaoleiwhut on GitHub&#34;&gt;Follow @zhaoleiwhut&lt;/a&gt;" href="/atom.xml">
    <link rel="stylesheet" href="https://cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css">

    <title>
        
        python运行环境管理工具virtualenv｜Zhl&#39;s blog
        
    </title>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

    <link rel="stylesheet" href="/css/main.css">

    
      <!-- <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css"> -->
      <link rel="stylesheet" href="/css/highlight.css">
    

    

    
      <meta name="google-site-verification" content="wtCjI-zcpr2FYwWS3sI4OWzMK9e7VomDrZyxpVUUIng">
    

    

    

    <!-- user customization -->
    <link rel="stylesheet" href="/css/arsnippet.css">
</head>

<style>
    header.intro-header {
        background-image: url('')
    }
</style>
<!-- hack iOS CSS :active style -->
<body ontouchstart="" class="animated fadeIn">
<header>
  <nav class="navbar navbar-default header-navbar" id="nav-top" data-ispost = "true" data-istags="false" data-ishome = "false" >
    <div class="container-fluid">
      <div class="navbar-header page-scroll">
        <button type="button" class="navbar-toggle" data-toggle="collapse" aria-expanded="false"  data-target="#website_navbar">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <span class="navbar-brand animated pulse">
          <a class="brand-logo" href="/">
            Zhl's blog <a class="github-button" href="https://github.com/zhaoleiwhut" aria-label="Follow @zhaoleiwhut on GitHub">Follow @zhaoleiwhut</a>
          </a>
        </span>
      </div>

      <div class="collapse navbar-collapse" id="website_navbar">
          <ul class="nav navbar-nav navbar-right">
              
                <li>
                  <a href="/">home</a>
                </li>
              
                <li>
                  <a href="/angular-category/">angular</a>
                </li>
              
                <li>
                  <a href="/archives/">archives</a>
                </li>
              
                <li>
                  <a href="/tags/">tags</a>
                </li>
              
                <li>
                  <a href="/about-me/">about me</a>
                </li>
              
                <li>
                  <a href="/atom.xml">RSS</a>
                </li>
              
          </ul>
      </div>
  </nav>


  
    <style>
       .intro-header {
          background-image: url('/img/sky-clouds-moon-horizon.jpg?h=350&amp;auto=compress&amp;cs=tinysrgb');
      }
    </style>

    <div class="intro-header">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1 text-center">
                    <div class="site-heading">
                        <h1>python运行环境管理工具virtualenv</h1>
                        
                        
                          <span class="meta">
                               <span class="meta-item">博主: 小小Z</span>
                               <span class="meta-item">创建于: Aug 30, 2018</span>
                               
                                 <span class="meta-item">更新于: Oct 5, 2019</span>
                               
                          </span>
                          <div class="tags text-center">
                              分类: 
                          </div>
                          <div class="tags text-center">
                              标签: 
                          </div>
                        
                    </div>
                </div>
            </div>
        </div>
    </div>
  
</header>


<!-- Main Content -->
<!-- post.ejs -->
<article>
    <div class="container">
      <div class="col-lg-8 col-lg-offset-1 col-sm-9">
          
            <div class="text-center"><div class="addthis_inline_share_toolbox">
  <script type = "text/javascript" src = "https://s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5272bc2a7b3c1ddc" async = "async" ></script>
</div>
</div><hr>
          
          <div class="subscribe"><a href="https://github.com/zhaoleiwhut" target="_blank">Go to Github Home Page</a></div>
          <p>在开发Python应用程序的时候，各项目的第三方依赖版本通常都不同，依赖被pip默认安装在Python3的site-packages目录下。</p>
<p>如果A项目依赖 django 1.9，B项目依赖django2.0，则会出现依赖冲突。</p>
<p>怎么解决呢？就要用到本文所提到的工具 virtualenv 。</p>
<blockquote>
<p>本文是在 <code>windows</code> 进行的操作，其它系统操作过程可能略有不同。</p>
</blockquote>
<h2 id="virtualenv-的安装和基本使用方法"><a href="#virtualenv-的安装和基本使用方法" class="headerlink" title="virtualenv 的安装和基本使用方法"></a>virtualenv 的安装和基本使用方法</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 安装</span></span><br><span class="line">pip install virtualenv</span><br><span class="line"></span><br><span class="line"><span class="comment"># 检查是否安装成功</span></span><br><span class="line">virtualenv --version</span><br></pre></td></tr></table></figure>
<p>创建新项目和执行环境</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 创建新项目</span></span><br><span class="line">mkdir demo</span><br><span class="line"><span class="built_in">cd</span> demo</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建独立的运行环境</span></span><br><span class="line">virtualenv env</span><br><span class="line"></span><br><span class="line"><span class="comment"># 激活环境</span></span><br><span class="line">./env/Scripts/activate</span><br><span class="line"></span><br><span class="line"><span class="comment"># 解除环境（恢复到默认环境）</span></span><br><span class="line">./env/Scripts/deactivate</span><br></pre></td></tr></table></figure>
<blockquote>
<p>在linux下，激活环境的命令式 <code>source bin/activate</code> ，取消激活方法是 <code>deactivate</code> 。</p>
</blockquote>
<h2 id="–system-site-packages-参数"><a href="#–system-site-packages-参数" class="headerlink" title="–system-site-packages 参数"></a>–system-site-packages 参数</h2><p>使用 <code>virtualenv --system-site-packages env</code> 参数可以继承全局环境的依赖库，<code>...python3.7/site-packages</code> 中的依赖资源会被复制到新的环境中。</p>
<h2 id="–extra-search-dir-参数"><a href="#–extra-search-dir-参数" class="headerlink" title="–extra-search-dir 参数"></a>–extra-search-dir 参数</h2><p>使用 <code>--extra-search-dir</code> 可以指定本地其它的环境版本，假如本地同时存在 python2.7，则可按如下方式创建基于python2.7的新环境：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">virtualenv --extra-search-dir=D:/Program Files/Python27 env</span><br></pre></td></tr></table></figure>
<h2 id="其它参数"><a href="#其它参数" class="headerlink" title="其它参数"></a>其它参数</h2><ul>
<li><p><code>--version</code> show program’s version number and exit</p>
</li>
<li><p><code>-h, --help</code> show this help message and exit</p>
</li>
<li><p><code>-v, --verbose</code> Increase verbosity.</p>
</li>
<li><p><code>-q, --quiet</code> Decrease verbosity.</p>
</li>
<li><p><code>-p PYTHON_EXE, --python=PYTHON_EXE</code> The Python interpreter to use, e.g., –python=python2.5 will use the python2.5 interpreter to create the new environment. The default is the interpreter that virtualenv was installed with (like /usr/bin/python)</p>
</li>
<li><p><code>--clear</code> Clear out the non-root install and start from scratch.</p>
</li>
<li><p><code>--system-site-packages</code> Give the virtual environment access to the global site-packages.</p>
</li>
<li><p><code>--always-copy</code> Always copy files rather than symlinking.</p>
</li>
<li><p><code>--relocatable</code> Make an EXISTING virtualenv environment relocatable. This fixes up scripts and makes all .pth files relative.</p>
</li>
<li><p><code>--unzip-setuptools</code> Unzip Setuptools when installing it.</p>
</li>
<li><p><code>--no-setuptools</code> Do not install setuptools in the new virtualenv.</p>
</li>
<li><p><code>--no-pip</code> Do not install pip in the new virtualenv.</p>
</li>
<li><p><code>--no-wheel</code> Do not install wheel in the new virtualenv.</p>
</li>
<li><p><code>--extra-search-dir=DIR</code> Directory to look for setuptools/pip distributions in. This option can be specified multiple times.</p>
</li>
<li><p><code>--prompt=PROMPT</code> Provides an alternative prompt prefix for this environment.</p>
</li>
<li><p><code>--download</code> Download preinstalled packages from PyPI.</p>
</li>
<li><p><code>--no-download</code> Do not download preinstalled packages from PyPI.</p>
</li>
<li><p><code>--no-site-packages</code> DEPRECATED. Retained only for backward compatibility. Not having access to global site-packages is now the default behavior.</p>
</li>
<li><p><code>--distribute</code></p>
</li>
<li><p><code>--setuptools</code> Legacy; now have no effect. Before version 1.10 these could be used to choose whether to install Distribute or Setuptools into the created virtualenv. Distribute has now been merged into Setuptools, and the latter is always installed.</p>
</li>
</ul>

          
            <a href="/about-me/" class="center-block" style="width:100px;" target="_blank"><img class="img-circle" style="width:100px;height:100px;margin:20px 0;" src="/img/avatar.jpg" title="About Me" alt="About Me"></a>
          
          <hr>
          <ul class="pager">
              
              <li class="previous">
                  <a href="/文件断点续传原理/" class="hint--left hint--rounded"
                     aria-label="文件断点续传原理">&larr; 上一篇</a>
              </li>
              
              
              <li class="next">
                  <a href="/创建并发布angular包/" class="hint--right hint--rounded"
                     aria-label="创建并发布angular库">下一篇&rarr;</a>
              </li>
              
          </ul>
        
  <br>
  

  
  <!-- livere begin-->
  <div id="lv-container" data-id="city" data-uid="MTAyMC8zODA0OS8xNDU3OQ==">
      <script type="text/javascript">
          (function(d, s) {
              var j, e = d.getElementsByTagName(s)[0];

              if (typeof LivereTower === 'function') { return; }

              j = d.createElement(s);
              j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
              j.async = true;

              e.parentNode.insertBefore(j, e);
          })(document, 'script');
      </script>
      <noscript> To show LiveRe comment, please use JavaScript</noscript>
  </div>
  <!-- livere end -->
  
  </div>


        
  <div class="hidden-xs col-sm-3 toc-col">
    <div class="toc-wrap">
        目录
        
          <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#virtualenv-的安装和基本使用方法"><span class="toc-number">1.</span> <span class="toc-text">virtualenv 的安装和基本使用方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#–system-site-packages-参数"><span class="toc-number">2.</span> <span class="toc-text">–system-site-packages 参数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#–extra-search-dir-参数"><span class="toc-number">3.</span> <span class="toc-text">–extra-search-dir 参数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#其它参数"><span class="toc-number">4.</span> <span class="toc-text">其它参数</span></a></li></ol>
        
    </div>
  </div>


      </div>
  </div>
</article>

<!-- Footer -->
<!-- footer.ejs -->
<footer>
    <div class="text-center">
      <ul class="list-inline">
          
              <li>
                  <a href="/atom.xml" target="_blank">
                      <span class="fa-stack fa-lg">
                          <i class="fa fa-circle fa-stack-2x"></i>
                          <i class="fa fa-rss fa-stack-1x fa-inverse"></i>
                      </span>
                  </a>
              </li>
          
          
              <li>
                  <a target="_blank" href="https://twitter.com/yingjieYJH">
                      <span class="fa-stack fa-lg">
                          <i class="fa fa-circle fa-stack-2x"></i>
                          <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
                      </span>
                  </a>
              </li>
          
          

          

          

          
              <li>
                  <a target="_blank"  href="https://github.com/huyingjie">
                      <span class="fa-stack fa-lg">
                          <i class="fa fa-circle fa-stack-2x"></i>
                          <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                      </span>
                  </a>
              </li>
          

          

          

      </ul>
     <div class="text-muted copyright">
            &copy;
            
            2015 - 2020
            
            
              <i class="fa fa-heart"></i>
            
            小小Z
        <br>
          
              由 <a target="_blank" href="https://hexo.io">Hexo</a> 强力驱动
          
          
            |
          
          
              主题 - <a href="https://github.com/huyingjie/hexo-theme-A-RSnippet" target="_blank">A-RSnippet</a> v0.1.0
          
          
      </div>
    </div>
</footer>




<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-38355881-1', 'auto');
    ga('send', 'pageview');
</script>



<script>console.log('baidu');
    var _baId = '3eeaa01427c47e72490394b4b8efb1aa';
    // Originial
    var _hmt = _hmt || [];
    (function() {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?" + _baId;
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
    })();
</script>




<script async defer src="https://buttons.github.io/buttons.js"></script>

<!-- Custom Theme JavaScript -->
<script src="/js/main.js"></script>

<!-- user customization -->
<script src="/js/arsnippet.js"></script>

<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>

<!--fastClick.js -->
<script>
    async("//cdn.bootcss.com/fastclick/1.0.6/fastclick.min.js", function(){
        var $nav = document.querySelector("nav");
        if($nav) FastClick.attach($nav);
    })
</script>



</body>

</html>
